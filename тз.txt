предварительный набросок операций и ограничений

1. справочники
	- спр пользователя (ид, имя) +
	- валют (ид, код валюты, обозначение, полное название)+
	- счетов (ид, ид пользователся,название, код валюты)+
	- категорий(ид,название, код родителя, код расход/доход)(на что идут расходы и приходы - группа затрат)+
	- курсов валют (ид, дата, валюта1, валюта2, сумма валюта1, сумма валюта2) (периодический)+




1,1 таблица операций с полями.
	идентификатор
	ид пользователя
	код счета источника
	сумма
	код счета получателя
	сумма
	код категории(код операции(расход доход первод)(это из категории))

--------------111
2. в настройках должна быть основная валюта, относительно нее и будут пересчеты рекомендованные
3 операции все вместе призод расходы
4  как то надо вести учет когда расход в одной валюте, а приход в другой валюте
	как вариант делать по принципу кассы, должно быть поле отдал в какой валюте
	и получил в какой валюте и указывать на какой счет проходит приход и расход
5 отчеты (по категориям, расход приход и т.д.)
6 операция перевода денег с учетом конвертаций



можно в программу ввести опцию бюджет общий и разбивку его по категориям или без разбивки
**********************
*операции по таблицам

	1 спр пользователя 
		- добавить/изменить проверять на наличие дублирующего имени
		- удалить проверять чтоб этот пользователь не использовался в спр счетов, таблице операция
	
	+- валют 
		+ добавить/изменить  проверять на наличие дублирующего имени и обозначения
		+- удалить проверять на использование  в справочнике курсов и спр счетов,а такще чтоб не была выставлена в настройках
		+ добавить проверку настроек

	+ счетов 
		+ добавить/изменить контролировать дулирование названия, проверяить чтоб была указанная валюта в справочнике
		+при изменении нельзя менять валюту если уже были движения
		+ удалить проверятьб на использование в операциях

	+ категорий
		+ добавить/изменить контролировать дубляж названий, проверять наличие категории родителя, не менять признакрасхода если было движение
		+ удалить контроль на использование в операциях, контроль на наличие подчиненных, если есть то переподчинять на уровень выше

	+ курсов валют 
		+ добавить/изменить контроль одного курса в одну дату причем положение валют не важно, проверяить чтоб была указанная валюта в справочнике
		+ удалить уалять без проверок
	
	- операции
		-добавление/удаление/изменение только для себя, можно ввести пользователя с привелегией админа
		проверять наличие пользователя, счета,



как вариант для клиентского приложения
	- на каждую операцию должна быть отметка отправлялась или нет на сервер
	- категории добавлять можно, удалять синхронизированные нельзя, синхронизированные править только на сервере
	- счета удалять нельзя
	- можно удалять свои операции, даже если они были синхронизированы
	- также нельзя удалять синхронизированные счета
	- справочник валют не правится
	- справочник польхователе не правится
